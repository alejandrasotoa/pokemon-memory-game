"use strict";const options=document.querySelector(".main__form"),startButton=document.querySelector(".button__input"),cardList=document.querySelector(".card__list"),feedback=document.querySelector(".main__feedback"),hiddenCards=document.querySelectorAll(".hidden");let difficulty=4,gameCards=[];const urlToFetch="https://pokeapi.co/api/v2/pokemon/";let cardsChoice=[],winners=[];const createFeedback=e=>{const t=document.createElement("h2");t.setAttribute("class","text__feedback");const c=document.createTextNode(e);t.appendChild(c),feedback.appendChild(t)},randomNumber=()=>Math.ceil(807*Math.random()),chooseDifficulty=e=>{const t=e.target;difficulty=void 0===t.value?parseInt(t.getAttribute("name")):parseInt(t.value)},checkCards=(e,t)=>{return void 0!==e.find(e=>e===t)},unflipCards=e=>{for(const t of e)t.classList.remove("hidden")},flipCard=e=>{feedback.innerHTML="";const t=e.currentTarget,c=t.parentElement;t.classList.add("hidden");const a=parseInt(c.getAttribute("id")),d=checkCards(cardsChoice,a);if(console.log(cardsChoice),0===cardsChoice.length)cardsChoice.push(a);else if(!0===d){createFeedback("Â¡Has encontrado una pareja!");const e=document.querySelectorAll(".hidden");for(const t of e)t.classList.add("found__card"),t.classList.remove("hidden");winners=[...cardsChoice],cardsChoice=[]}else{createFeedback("Intentalo de nuevo");const e=document.querySelectorAll(".hidden");setTimeout(()=>{unflipCards(e)},2e3),cardsChoice.push(a),cardsChoice=[]}},shuffle=e=>(e.sort(()=>Math.random()-.5),e),createElement=(e,t)=>{const c=e.slice(0,t),a=shuffle(c);for(let e=0;e<t;e++){const t=document.createElement("li");t.setAttribute("class","game__item"),t.setAttribute("id",a[e].id);const c=document.createElement("div");c.setAttribute("class","flip__card"),c.addEventListener("click",flipCard);const d=document.createElement("div");d.setAttribute("class","game__card"),d.style.backgroundImage="url("+a[e].photo+")",t.appendChild(c),t.appendChild(d),cardList.appendChild(t)}},fetchPokemon=e=>{fetch(`${urlToFetch}${e}`).then(e=>e.json()).then(e=>{null!==e.sprites.front_default&&null!==e.sprites.back_default&&(gameCards.push({id:e.id,name:e.name,photo:e.sprites.front_default}),gameCards.push({id:e.id,name:e.name,photo:e.sprites.back_default}))})},startGame=()=>{cardList.innerHTML="",gameCards=[];for(let e=0;e<difficulty;e++){const e=randomNumber();fetchPokemon(e)}const e=difficulty;setTimeout(()=>{createElement(gameCards,e)},2500)};options.addEventListener("click",chooseDifficulty),startButton.addEventListener("click",startGame);